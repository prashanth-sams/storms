{"data": [{"type": "report", "id": 1, "attributes": {"environment": {"Python": "3.7.3", "Platform": "Darwin-18.7.0-x86_64-i386-64bit"}, "summary": {"failed": 1, "num_tests": 1, "duration": 68.50733613967896}, "created_at": "2020-09-14 15:59:15.377720"}, "relationships": {"tests": {"data": [{"id": 1, "type": "test"}]}}}], "included": [{"id": 1, "type": "test", "attributes": {"name": "src/spec/login_test.py::TestLogin::test_login", "duration": 68.264026013, "run_index": 0, "setup": {"name": "setup", "duration": 0.0009628100000000916, "outcome": "passed"}, "call": {"name": "call", "duration": 68.033053358, "outcome": "failed", "longrepr": "self = <[RecursionError('maximum recursion depth exceeded') raised in repr()] TestLogin object at 0x10d2b9cc0>\nlocator = ('xpath', '/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget...oid.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup[2]/android.view.ViewGroup[1]/android.widget.TextView')\nexpected = True, n = 1, kwargs = {}\nwait = <selenium.webdriver.support.wait.WebDriverWait (session=\"ed5c2be6-1585-4c92-95f1-513878de9825\")>\nx = <src.helpers.app.CustomCall object at 0x10d2d9ac8>\n\n    def is_displayed(self, locator, expected=True, n=3, **kwargs):\n        \"\"\"\n        assert boolean value by polling if match is not found\n        maximum poll #3 with approx. ~10 secs\n        \"\"\"\n        wait = WebDriverWait(self.driver, 20)\n    \n        x = iter(CustomCall())\n        while n > 1:\n            try:\n                if len(kwargs) == 0:\n>                   wait.until(EC.visibility_of_element_located(locator))\n\nsrc/helpers/app.py:66: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"ed5c2be6-1585-4c92-95f1-513878de9825\")>\nmethod = <selenium.webdriver.support.expected_conditions.visibility_of_element_located object at 0x10ce250f0>\nmessage = ''\n\n    def until(self, method, message=''):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value is not False.\"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.time() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, 'screen', None)\n                stacktrace = getattr(exc, 'stacktrace', None)\n            time.sleep(self._poll)\n            if time.time() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message:\n\n/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/selenium/webdriver/support/wait.py:80: TimeoutException\n\nDuring handling of the above exception, another exception occurred:\n\nself = <[RecursionError('maximum recursion depth exceeded') raised in repr()] TestLogin object at 0x10d2b9cc0>\n\n    @pytest.mark.login\n    def test_login(self):\n>       App.is_displayed(self, NewsScreen.newsHeader)\n\nsrc/spec/login_test.py:16: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <[RecursionError('maximum recursion depth exceeded') raised in repr()] TestLogin object at 0x10d2b9cc0>\nlocator = ('xpath', '/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget...oid.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup[2]/android.view.ViewGroup[1]/android.widget.TextView')\nexpected = True, n = 1, kwargs = {}\nwait = <selenium.webdriver.support.wait.WebDriverWait (session=\"ed5c2be6-1585-4c92-95f1-513878de9825\")>\nx = <src.helpers.app.CustomCall object at 0x10d2d9ac8>\n\n    def is_displayed(self, locator, expected=True, n=3, **kwargs):\n        \"\"\"\n        assert boolean value by polling if match is not found\n        maximum poll #3 with approx. ~10 secs\n        \"\"\"\n        wait = WebDriverWait(self.driver, 20)\n    \n        x = iter(CustomCall())\n        while n > 1:\n            try:\n                if len(kwargs) == 0:\n                    wait.until(EC.visibility_of_element_located(locator))\n                    assert self.driver.find_element(*locator).is_displayed() == expected\n                else:\n                    assert self.driver.find_elements(*locator)[kwargs['index']].is_displayed() == expected\n                break\n            except Exception as e:\n                self.logger.error(f'is_displayed failed attempt {next(x)}- {locator}')\n                time.sleep(0.5)\n                n -= 1\n>               if n == 1: assert False == expected\nE               AssertionError\n\nsrc/helpers/app.py:75: AssertionError", "log": "INFO     conftest:appiumdriver.py:20 Configuring desired capabilities\nINFO     conftest:appiumdriver.py:24 Initiating Appium driver\nERROR    conftest:app.py:72 is_displayed failed attempt 1- ('xpath', '/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup[2]/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup[2]/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup[1]/android.widget.FrameLayout/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup[2]/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup[2]/android.view.ViewGroup[1]/android.widget.TextView')\nERROR    conftest:app.py:72 is_displayed failed attempt 2- ('xpath', '/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup[2]/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup[2]/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup[1]/android.widget.FrameLayout/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup[2]/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup[2]/android.view.ViewGroup[1]/android.widget.TextView')\nERROR    conftest:appiumdriver.py:48 Taking screenshot on failure"}, "teardown": {"name": "teardown", "duration": 0.22904703500000778, "outcome": "passed"}, "outcome": "failed"}}]}